

begin sequence test_calibrate_rotation
var float tst_angle=3600deg
var float tst_d1=300mm
var float tst_d2=-300mm
var vec3 tst_yawrate=(45deg,90deg,90deg)
var vec3 tst_speeds=(100mm,500mm,500mm)

propulsion.enable
propulsion.motors_enable
propulsion.translate tst_d2,tst_speeds
propulsion.rotate tst_angle,tst_yawrate
end sequence


begin sequence test_check_sensor
label begin
check_sensor 0
jnz end
yield
jmp begin
label end
pump.set_pwm pwm_pump_activated
delay delay2
pump.set_pwm pwm_pump_zero
end sequence


begin sequence test_arm_speed
arm.go_to_position sol_preprise,1,100
arm.go_to_position stk_av_prise,1,100
arm.go_to_position sol_preprise,1,50
send_event 1,20
arm.go_to_position stk_av_prise,1,25
arm.go_to_position sol_preprise,0,10
arm.shutdown
end sequence

begin sequence test_electrovannes

end sequence

begin sequence test_servos_gr

end sequence

